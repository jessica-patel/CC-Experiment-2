<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Experiment 2 - Treasure Hunt</title>
        <!-- A-Frame and AR.js libraries -->
        <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

        <!-- Additional A-Frame components for gesture controls -->
        <script src="https://unpkg.com/aframe-gesture-detector"></script>

        <!-- A-Frame Animation Mixer Component -->
        <script src="https://unpkg.com/aframe-animation-mixer-component@3.0.1/dist/aframe-animation-mixer-component.min.js"></script>

        <!-- p5.js library -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>

        <meta charset="utf-8" />
    </head>
  
    <body style="margin: 0; overflow: hidden;"> <!-- hides overflowing content -->
        
            <a-scene 
                embedded 
                arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;" 
                gesture-detector
            >
                <!-- Lights to help show material for 3D models -->
                <a-light type="ambient" color="#ccc"></a-light>
                <a-light type="directional" intensity="8" position="2 4 -3"></a-light>
                <a-light type="point" intensity="2" position="0 5 -5" distance="20" decay="2"></a-light>

                <!-- Shiba model with custom Shiba marker -->
                <a-marker 
                    id="animated-marker"
                    type="pattern"
                    preset="custom"
                    url="shiba.patt"
                    raycaster="objects: .clickable"
                    emitevents="true"
                    cursor="fuse: false; rayOrigin: mouse;"
                    custom-marker 
                >
                    <a-entity 
                        gesture-handler
                        gltf-model="https://cdn.glitch.global/3004748a-d850-4980-af7d-503b78977f93/dog%20and%20the%20house%20x90.glb?v=1698862323524"
                        scale="0.5 0.5 0.5"
                        position="0 0.5 0">
                        <a-sound src="barking.mp3" autoplay="true" loop="true"></a-sound>
                    </a-entity>
                </a-marker>

                <!-- Object 2 with Kanji marker FOR TESTING -->
                <a-marker preset="kanji">
                    <a-entity 
                        gesture-handler
                        gltf-model="https://cdn.glitch.me/03465d97-4e4d-4897-b8ce-06a67f9b63d2/strawberry_cream_cake_shortcake.glb?v=1698122869718"
                        scale="5 5 5"
                        position="0 0.5 0"
                        rotation="0 0 0">
                    </a-entity>
                </a-marker>

                <a-entity camera></a-entity>

            </a-scene>

        
            <audio id="audioElement" preload="auto">
                <source src="barking.mp3" type="audio/mpeg">
            </audio>

        <!-- <script src="sketch.js"></script> -->
        <script src="ar.js"></script>
    </body>
</html>
