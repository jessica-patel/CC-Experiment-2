<!DOCTYPE html>

<!-- Creation & Computation 2023
Group members: Aranya, Yu, Aishwarya, Jessica


This code was written for the purpose of allowing a 3D model of a dog to appear on 
the screen whent the camera is directed at a custom marker of a dog silhouette. 

The code was written by referring to the code provided by AR.js studio.
https://ar-js-org.github.io/studio/pages/marker/index.html

Help was also taken from ChatGPT to debug problems. -->

<html lang="en">
    <head>
        <title>Experiment 2 - Treasure Hunt</title>
        <!-- A-Frame and AR.js libraries -->
        <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

        <meta charset="utf-8" />
    </head>
  
    <body style="margin: 0; overflow: hidden;"> <!-- hides overflowing content -->

        <a-scene 
            embedded 
            arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
            gesture-detector
        >
            <!-- Lights to help show material for 3D models -->
            <a-light type="ambient" color="#ccc"></a-light>
            <a-light type="directional" intensity="8" position="2 4 -3"></a-light>
            <a-light type="point" intensity="2" position="0 5 -5" distance="20" decay="2"></a-light>

            <!-- Shiba model with references to the custom Shiba marker -->
            <a-marker 
                id="animated-marker"
                type="pattern"
                preset="custom"
                url="shiba.patt"
                raycaster="objects: .clickable"
                emitevents="true"
                cursor="fuse: false; rayOrigin: mouse;"
                custom-marker 
            >
                <!-- Providing the link to the model and setting size/position in the AR screen -->
                <a-entity 
                    gesture-handler
                    gltf-model="https://cdn.glitch.global/3004748a-d850-4980-af7d-503b78977f93/dog%20and%20the%20house%20x90.glb?v=1698862323524"
                    scale="1 1 1"
                    position="0 0.5 0">
                </a-entity>
            </a-marker>

            <a-entity camera></a-entity>

        </a-scene>

        <!-- Adding audio -->
        <audio id="audioElement" preload="auto">
            <source src="barking.mp3" type="audio/mpeg">
        </audio>

        <script src="ar.js"></script>
    </body>
</html>
